<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PulseValueHistory (infer.Pulselib.PulseValueHistory)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">Pulselib</a> &#x00BB; PulseValueHistory</nav><header class="odoc-preamble"><h1>Module <code><span>Pulselib.PulseValueHistory</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-F"><a href="#module-F" class="anchor"></a><code><span><span class="keyword">module</span> F</span><span> = <span class="xref-unresolved">Stdlib</span>.Format</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CallEvent"><a href="#module-CallEvent" class="anchor"></a><code><span><span class="keyword">module</span> CallEvent</span><span> = <a href="../PulseCallEvent/index.html">PulseCallEvent</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-TaintItem"><a href="#module-TaintItem" class="anchor"></a><code><span><span class="keyword">module</span> TaintItem</span><span> = <a href="../PulseTaintItem/index.html">PulseTaintItem</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Timestamp"><a href="#module-Timestamp" class="anchor"></a><code><span><span class="keyword">module</span> Timestamp</span><span> = <a href="../PulseTimestamp/index.html">PulseTimestamp</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-event"><a href="#type-event" class="anchor"></a><code><span><span class="keyword">type</span> event</span><span> = </span></code><ol><li id="type-event.Allocation" class="def variant constructor anchored"><a href="#type-event.Allocation" class="anchor"></a><code><span>| </span><span><span class="constructor">Allocation</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-event.f" class="def record field anchored"><a href="#type-event.f" class="anchor"></a><code><span>f : <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a>;</span></code></li><li id="type-event.location" class="def record field anchored"><a href="#type-event.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></li><li id="type-event.timestamp" class="def record field anchored"><a href="#type-event.timestamp" class="anchor"></a><code><span>timestamp : <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-event.Assignment" class="def variant constructor anchored"><a href="#type-event.Assignment" class="anchor"></a><code><span>| </span><span><span class="constructor">Assignment</span> <span class="keyword">of</span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.Call" class="def variant constructor anchored"><a href="#type-event.Call" class="anchor"></a><code><span>| </span><span><span class="constructor">Call</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-event.f" class="def record field anchored"><a href="#type-event.f" class="anchor"></a><code><span>f : <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a>;</span></code></li><li id="type-event.location" class="def record field anchored"><a href="#type-event.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></li><li id="type-event.in_call" class="def record field anchored"><a href="#type-event.in_call" class="anchor"></a><code><span>in_call : <a href="#type-t">t</a>;</span></code></li><li id="type-event.timestamp" class="def record field anchored"><a href="#type-event.timestamp" class="anchor"></a><code><span>timestamp : <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-event.Capture" class="def variant constructor anchored"><a href="#type-event.Capture" class="anchor"></a><code><span>| </span><span><span class="constructor">Capture</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-event.captured_as" class="def record field anchored"><a href="#type-event.captured_as" class="anchor"></a><code><span>captured_as : <a href="../../IR/Pvar/index.html#type-t">IR.Pvar.t</a>;</span></code></li><li id="type-event.mode" class="def record field anchored"><a href="#type-event.mode" class="anchor"></a><code><span>mode : <a href="../../IR/CapturedVar/index.html#type-capture_mode">IR.CapturedVar.capture_mode</a>;</span></code></li><li id="type-event.location" class="def record field anchored"><a href="#type-event.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></li><li id="type-event.timestamp" class="def record field anchored"><a href="#type-event.timestamp" class="anchor"></a><code><span>timestamp : <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-event.ConditionPassed" class="def variant constructor anchored"><a href="#type-event.ConditionPassed" class="anchor"></a><code><span>| </span><span><span class="constructor">ConditionPassed</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-event.if_kind" class="def record field anchored"><a href="#type-event.if_kind" class="anchor"></a><code><span>if_kind : <a href="../../IR/Sil/index.html#type-if_kind">IR.Sil.if_kind</a>;</span></code></li><li id="type-event.is_then_branch" class="def record field anchored"><a href="#type-event.is_then_branch" class="anchor"></a><code><span>is_then_branch : bool;</span></code></li><li id="type-event.location" class="def record field anchored"><a href="#type-event.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></li><li id="type-event.timestamp" class="def record field anchored"><a href="#type-event.timestamp" class="anchor"></a><code><span>timestamp : <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-event.CppTemporaryCreated" class="def variant constructor anchored"><a href="#type-event.CppTemporaryCreated" class="anchor"></a><code><span>| </span><span><span class="constructor">CppTemporaryCreated</span> <span class="keyword">of</span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.FormalDeclared" class="def variant constructor anchored"><a href="#type-event.FormalDeclared" class="anchor"></a><code><span>| </span><span><span class="constructor">FormalDeclared</span> <span class="keyword">of</span> <a href="../../IR/Pvar/index.html#type-t">IR.Pvar.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.Invalidated" class="def variant constructor anchored"><a href="#type-event.Invalidated" class="anchor"></a><code><span>| </span><span><span class="constructor">Invalidated</span> <span class="keyword">of</span> <a href="../PulseInvalidation/index.html#type-t">PulseInvalidation.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.NilMessaging" class="def variant constructor anchored"><a href="#type-event.NilMessaging" class="anchor"></a><code><span>| </span><span><span class="constructor">NilMessaging</span> <span class="keyword">of</span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.Returned" class="def variant constructor anchored"><a href="#type-event.Returned" class="anchor"></a><code><span>| </span><span><span class="constructor">Returned</span> <span class="keyword">of</span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.StructFieldAddressCreated" class="def variant constructor anchored"><a href="#type-event.StructFieldAddressCreated" class="anchor"></a><code><span>| </span><span><span class="constructor">StructFieldAddressCreated</span> <span class="keyword">of</span> <span><a href="../../IR/Fieldname/index.html#type-t">IR.Fieldname.t</a> <a href="../../IStdlib/RevList/index.html#type-t">IStdlib.RevList.t</a></span>
  * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>
  * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.TaintSource" class="def variant constructor anchored"><a href="#type-event.TaintSource" class="anchor"></a><code><span>| </span><span><span class="constructor">TaintSource</span> <span class="keyword">of</span> <a href="../PulseTaintItem/index.html#type-t">TaintItem.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.VariableAccessed" class="def variant constructor anchored"><a href="#type-event.VariableAccessed" class="anchor"></a><code><span>| </span><span><span class="constructor">VariableAccessed</span> <span class="keyword">of</span> <a href="../../IR/Pvar/index.html#type-t">IR.Pvar.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li><li id="type-event.VariableDeclared" class="def variant constructor anchored"><a href="#type-event.VariableDeclared" class="anchor"></a><code><span>| </span><span><span class="constructor">VariableDeclared</span> <span class="keyword">of</span> <a href="../../IR/Pvar/index.html#type-t">IR.Pvar.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">and</span> t</span><span> = <span class="keyword">private</span> </span></code><ol><li id="type-t.Epoch" class="def variant constructor anchored"><a href="#type-t.Epoch" class="anchor"></a><code><span>| </span><span><span class="constructor">Epoch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>start of time</p><span class="comment-delim">*)</span></div></li><li id="type-t.Sequence" class="def variant constructor anchored"><a href="#type-t.Sequence" class="anchor"></a><code><span>| </span><span><span class="constructor">Sequence</span> <span class="keyword">of</span> <a href="#type-event">event</a> * <a href="#type-t">t</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>Sequence [event, hist]</code> represents an event <code>event</code> occurring *after* <code>hist</code>. Invariant: the timestamp of <code>event</code> is greater than all the (local, i.e. not inside function calls) timestamps in <code>hist</code>.</p><span class="comment-delim">*)</span></div></li><li id="type-t.InContext" class="def variant constructor anchored"><a href="#type-t.InContext" class="anchor"></a><code><span>| </span><span><span class="constructor">InContext</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-t.main" class="def record field anchored"><a href="#type-t.main" class="anchor"></a><code><span>main : <a href="#type-t">t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>trace of the &quot;main&quot; value being traced</p><span class="comment-delim">*)</span></div></li><li id="type-t.context" class="def record field anchored"><a href="#type-t.context" class="anchor"></a><code><span>context : <span><a href="#type-t">t</a> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>contextual traces, eg conditionals that the path is under</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></li><li id="type-t.BinaryOp" class="def variant constructor anchored"><a href="#type-t.BinaryOp" class="anchor"></a><code><span>| </span><span><span class="constructor">BinaryOp</span> <span class="keyword">of</span> <a href="../../IR/Binop/index.html#type-t">IR.Binop.t</a> * <a href="#type-t">t</a> * <a href="#type-t">t</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>branch history due to a binop</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_event"><a href="#val-compare_event" class="anchor"></a><code><span><span class="keyword">val</span> compare_event : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_event"><a href="#val-equal_event" class="anchor"></a><code><span><span class="keyword">val</span> equal_event : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_event"><a href="#val-yojson_of_event" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_event : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_t"><a href="#val-yojson_of_t" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-epoch"><a href="#val-epoch" class="anchor"></a><code><span><span class="keyword">val</span> epoch : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span><span class="keyword">val</span> sequence : <span>?context:<span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-in_context"><a href="#val-in_context" class="anchor"></a><code><span><span class="keyword">val</span> in_context : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-binary_op"><a href="#val-binary_op" class="anchor"></a><code><span><span class="keyword">val</span> binary_op : <span><a href="../../IR/Binop/index.html#type-t">IR.Binop.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_fields"><a href="#val-pp_fields" class="anchor"></a><code><span><span class="keyword">val</span> pp_fields : <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Fieldname/index.html#type-t">IR.Fieldname.t</a> <a href="../../IStdlib/RevList/index.html#type-t">IStdlib.RevList.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span><span class="keyword">val</span> singleton : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-iter_event"><a href="#type-iter_event" class="anchor"></a><code><span><span class="keyword">type</span> iter_event</span><span> = </span></code><ol><li id="type-iter_event.EnterCall" class="def variant constructor anchored"><a href="#type-iter_event.EnterCall" class="anchor"></a><code><span>| </span><span><span class="constructor">EnterCall</span> <span class="keyword">of</span> <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></li><li id="type-iter_event.ReturnFromCall" class="def variant constructor anchored"><a href="#type-iter_event.ReturnFromCall" class="anchor"></a><code><span>| </span><span><span class="constructor">ReturnFromCall</span> <span class="keyword">of</span> <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></li><li id="type-iter_event.Event" class="def variant constructor anchored"><a href="#type-iter_event.Event" class="anchor"></a><code><span>| </span><span><span class="constructor">Event</span> <span class="keyword">of</span> <a href="#type-event">event</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rev_iter_main"><a href="#val-rev_iter_main" class="anchor"></a><code><span><span class="keyword">val</span> rev_iter_main : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="#type-iter_event">iter_event</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>iterate on all events in reverse timestamp order, ignoring events in contexts and recursing into the histories inside call events. Timestamp order is the lexicographic order induced by projecting events onto their timestamps and appending timestamps within calls, e.g. the timestamp of the inner assignement in</p><pre class="language-ocaml"><code>Call {timestamp=10; in_call=[..., Call{timestamp=4;
in_call=[..., Assignement (...,timestamp=3) ] } ] }</code></pre><p>can be written <code>10.4.3</code> and the order is such that, e.g., <code>10.4.3 &lt; 10.5</code>, <code>10.5</code> being the timestamp of the event following the inner <code>Call</code> event in the example above.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span>main_only:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="#type-iter_event">iter_event</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>like <code>rev_iter_main</code> but iterates in order (by reversing the order iteration) and iterates on only main events like <code>rev_iter_main</code> if <code>main_only</code> is <code>true</code>, otherwise iterates on *all* events including contexts if <code>main_only</code> is <code>false</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-location_of_event"><a href="#val-location_of_event" class="anchor"></a><code><span><span class="keyword">val</span> location_of_event : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timestamp_of_event"><a href="#val-timestamp_of_event" class="anchor"></a><code><span><span class="keyword">val</span> timestamp_of_event : <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <a href="../PulseTimestamp/index.html#type-t">Timestamp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_to_errlog"><a href="#val-add_to_errlog" class="anchor"></a><code><span><span class="keyword">val</span> add_to_errlog : 
  <span>nesting:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_first_main_event"><a href="#val-get_first_main_event" class="anchor"></a><code><span><span class="keyword">val</span> get_first_main_event : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> option</span></span></code></div></div></div></body></html>